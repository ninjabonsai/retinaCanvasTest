<html>
<head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>

<body>
<h2>Naive canvas</h2>
<canvas id="naive" width="400" height="50"></canvas>

<h2>High-def Canvas</h2>
<canvas id="hidef" width="400" height="50"></canvas>
</body>

<script>
    $(document).ready(function ()
    {
        var img = new Image();
        img.src = "car.png";

        $(img).load(function ()
        {
            console.log("img loaded");

            // Output to Canvas without consideration of device pixel ratio
            var naiveContext = $('#naive')[0].getContext('2d');
            naiveContext.font = '16px Arial';
            naiveContext.fillText('Rothko is classified as an abstract expressionist.', 10, 20);

            // Output to Canvas, taking into account devices such as iPhone 4 with Retina Display
            var hidefCanvas = $('#hidef')[0];
            var hidefContext = hidefCanvas.getContext('2d');

            console.log("window.devicePixelRatio = " + window.devicePixelRatio);

            if (window.devicePixelRatio)
            {
                var hdw = $(hidefCanvas).attr('width');
                var hdh = $(hidefCanvas).attr('height');

                $(hidefCanvas).attr('width', hdw * window.devicePixelRatio);
                $(hidefCanvas).attr('height', hdh * window.devicePixelRatio);

                $(hidefCanvas).css('width', hdw);
                $(hidefCanvas).css('height', hdh);

                hidefContext.scale(window.devicePixelRatio, window.devicePixelRatio);
            }

            hidefContext.font = "16px Arial";
            hidefContext.fillText("Rothko is classified as an abstract expressionist.", 10, 20);

        });
    });
</script>
</html>